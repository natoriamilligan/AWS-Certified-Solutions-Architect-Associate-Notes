# S3
 - infinitely scaling storage
 - Use Cases
  - backup and storage
  - disaster recovery
  - archive
  - hybrid cloud storage
  - Applicating hosting
  - media hosting
  - data lake & bid data anaylytics
  - software delivery
  - static websites

  ## Buckets
  - allows people to store objects (files) into buckets (directories)
  - buckets must have a globally unique name (accross all regons and all accounts)
  - defined at the region level
  - looks like a global service but buckets are created in a region
  - Nameing convention:
    - no uppercase
    - no underscore
    - 3-63 characters long
    - not an IP
    - must start with a lowercase letter or number
    - must NOT start with the prefix xn
    - must NOT end with the suffix s3alias
   
  ## Objects
  - objects have a key
  - the key is the Full path:
    - ex. s3://my-bucket/my-file.txt
  - the key is composed of the prefix + object name
    - ex. ex. s3://my-bucket/folder1/folder2/my-file.txt (folder1 and 2 are prefixes and the file is the object name)
  - S3 does not have a concept of directoris within buckets
  - keys are very long names that contain slashes (/)
  - object values are the content of the body:
    - max object size is 5TB (5000GB)
    - if uploading more than 5GB, must use the multi-part upload
  - objects can have metadata (list of key value pairs)
  - tags (unicode / value pair - up to 10). useful for security / lifecycle
  - Version ID (if versioning is enabled)

  ## Security
   - Encryption : encrypt objects in S3 using encryption keys
   - User-based
     - IAM policies : which API calls should be allowed for aspecific user from IAM
   - Resource-based
     - Bucket Policies (most common): bucket wide rules form the S3 console - allows cross account (allows a user to come in or a user from another account come in)
     - Object ACcess Control List : finer grain (can be disabled)
     - Bucket Access Control List : less common (can be disabled)
   - NOTE: an IAM principle can access an S3 object if:
     1. the user IAM permissions ALLOW it OR the resource policy ALLOWS it
     2. AND theres no explicit DENY
    
     ### Bucket Policies
      - jSON
        - Resources : tells the policy what buckets and objects this policy applies on
        - Effect: ALLOW/ Deny
        - Actions : Set of APIs you allow or deny
        - Principle : the account or user to apply the policy to
      - Use s# bucket policy to:
        - grant public access to the bucket
        - force objects to be encrypted at upload
        - grant access to another account (cross account)
       
      ### Bucket settings for Block Public Access
       - these setting were create to prevent data leaks
       - if you know that your bucket should never be public, leave these on
       - can be set at the account level
    
 

  
    


















